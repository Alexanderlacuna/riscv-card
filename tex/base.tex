\section*{RISC-V Instruction Set}

\subsection*{Core Instruction Formats}
\small
\begin{center}
\begin{tabular}
{p{0in}p{0.4in}p{0.05in}p{0.05in}p{0.05in}p{0.05in}p{0.4in}p{0.6in}p{0.4in}p{0.6in}p{0.7in}l}
&
\multicolumn{1}{l}{\instbit{31}} &
\multicolumn{1}{r}{\instbit{27}} &
\instbit{26} &
\instbit{25} &
\multicolumn{1}{l}{\instbit{24}} &
\multicolumn{1}{r}{\instbit{20}} &
\instbitrange{19}{15} &
\instbitrange{14}{12} &
\instbitrange{11}{7} &
\instbitrange{6}{0} \\
\cline{2-11}

&
\multicolumn{4}{|c|}{funct7} &
\multicolumn{2}{c|}{rs2} &
\multicolumn{1}{c|}{rs1} &
\multicolumn{1}{c|}{funct3} &
\multicolumn{1}{c|}{rd} &
\multicolumn{1}{c|}{opcode} & R-type \\
\cline{2-11}

&
\multicolumn{6}{|c|}{imm[11:0]} &
\multicolumn{1}{c|}{rs1} &
\multicolumn{1}{c|}{funct3} &
\multicolumn{1}{c|}{rd} &
\multicolumn{1}{c|}{opcode} & I-type \\
\cline{2-11}

&
\multicolumn{4}{|c|}{imm[11:5]} &
\multicolumn{2}{c|}{rs2} &
\multicolumn{1}{c|}{rs1} &
\multicolumn{1}{c|}{funct3} &
\multicolumn{1}{c|}{imm[4:0]} &
\multicolumn{1}{c|}{opcode} & S-type \\
\cline{2-11}

&
\multicolumn{4}{|c|}{imm[12$\vert$10:5]} &
\multicolumn{2}{c|}{rs2} &
\multicolumn{1}{c|}{rs1} &
\multicolumn{1}{c|}{funct3} &
\multicolumn{1}{c|}{imm[4:1$\vert$11]} &
\multicolumn{1}{c|}{opcode} & B-type \\
\cline{2-11}

&
\multicolumn{8}{|c|}{imm[31:12]} &
\multicolumn{1}{c|}{rd} &
\multicolumn{1}{c|}{opcode} & U-type \\
\cline{2-11}

&
\multicolumn{8}{|c|}{imm[20$\vert$10:1$\vert$11$\vert$19:12]} &
\multicolumn{1}{c|}{rd} &
\multicolumn{1}{c|}{opcode} & J-type \\
\cline{2-11}
\end{tabular}
\end{center}

\subsection*{Core Instruction Set}

\subsubsection*{RV32I Base Integer Instructions}

\begin{tabular}
{l | l | c | c | c | c | l | l} \hline
Inst.     & Name                    & FMT& Opcode       & F3  & F7    & Description (C syntax)        & Note     \\ \hline
\tt{add}  & ADD                     & R  & \tt{0000011} & 0x0 & 0x00  & \tt{rd = rs1 + rs2}           & \\
\tt{sub}  & SUB                     & R  & \tt{0000011} & 0x0 & 0x20  & \tt{rd = rs1 - rs2}           & \\
\tt{xor}  & XOR                     & R  & \tt{0000011} & 0x4 & 0x00  & \tt{rd = rs1 \^{} rs2}        & \\
\tt{or}   & OR                      & R  & \tt{0000011} & 0x6 & 0x00  & \tt{rd = rs1 | rs2}           & \\
\tt{and}  & AND                     & R  & \tt{0000011} & 0x7 & 0x00  & \tt{rd = rs1 \& rs2}          & \\
\tt{sll}  & Shift Left Logical      & R  & \tt{0000011} & 0x1 & 0x00  & \tt{rd = rs1 << rs2}          & \\
\tt{srl}  & Shift Right Logical     & R  & \tt{0000011} & 0x2 & 0x00  & \tt{rd = rs1 >> rs2}          & \\
\tt{sra}  & Shift Right Arith*      & R  & \tt{0000011} & 0x3 & 0x20  & \tt{rd = rs1 >> rs2}          & \\
\tt{slt}  & Set Less Than           & R  & \tt{0110011} & 0x2 &       & \tt{rd = (rs1 < rs2) ? 1 : 0} & \\
\tt{sltu} & Set Less Than (U)       & R  & \tt{0110011} & 0x3 &       & \tt{rd = (rs1 < rs2) ? 1 : 0} & zero-extends \\ \hline
\tt{addi} & ADD Immediate           & I  & \tt{0010011} & 0x0 & 0x00  & \tt{rd = rs1 + imm}           & \\
\tt{xori} & XOR Immediate           & I  & \tt{0010011} & 0x0 & 0x00  & \tt{rd = rs1 \^{} imm}        & \\
\tt{ori}  & OR Immediate            & I  & \tt{0010011} & 0x0 & 0x00  & \tt{rd = rs1 | imm}           & \\
\tt{andi} & AND Immediate           & I  & \tt{0010011} & 0x0 & 0x00  & \tt{rd = rs1 \& imm}          & \\
\tt{slli} & Shift Left Logical Imm  & I  & \tt{0010011} & 0x1 & 0x00  & \tt{rd = rs1 << imm}          & \\
\tt{srli} & Shift Right Logical Imm & I  & \tt{0010011} & 0x1 & 0x00  & \tt{rd = rs1 >> imm}          & \\
\tt{srai} & Shift Right Arith Imm   & I  & \tt{0010011} & 0x3 & 0x20  & \tt{rd = rs1 >> imm}          & msb-extends \\
\tt{slt}  & Set Less Than Imm       & I  & \tt{0010011} & 0x2 &       & \tt{rd = (rs1 < imm) ? 1 : 0} & \\
\tt{sltu} & Set Less Than Imm (U)   & I  & \tt{0010011} & 0x3 &       & \tt{rd = (rs1 < imm) ? 1 : 0} & zero-extends \\ \hline
\tt{lb}   & Load Byte               & I  & \tt{0000011} & 0x0 &       & \tt{rd = *rs1[0:7]}           & \\
\tt{lh}   & Load Half               & I  & \tt{0000011} & 0x1 &       & \tt{rd = *rs1[0:15]}          & \\
\tt{lw}   & Load Word               & I  & \tt{0000011} & 0x2 &       & \tt{rd = *rs1[0:31]}          & \\
\tt{lbu}  & Load Byte (U)           & I  & \tt{0000011} & 0x4 &       & \tt{rd = *rs1[0:7]}           & zero-extends \\
\tt{lhu}  & Load Half (U)           & I  & \tt{0000011} & 0x5 &       & \tt{rd = *rs1[0:15]}          & zero-extends \\ \hline
\tt{sb}   & Store Byte              & S  & \tt{0100011} & 0x0 &       & \tt{*rs1[0:7] \enspace = rs2[0:7]} & \\
\tt{sh}   & Store Half              & S  & \tt{0100011} & 0x1 &       & \tt{*rs1[0:15] = rs2[0:15]}   & \\
\tt{sw}   & Store Word              & S  & \tt{0100011} & 0x2 &       & \tt{*rs1[0:31] = rs2[0:31]}   & \\ \hline
\tt{beq}  & Branch ==               & B  & \tt{1100011} & 0x0 &       & \tt{if(rs1 == rs2) PC += imm} & \\
\tt{bne}  & Branch !=               & B  & \tt{1100011} & 0x1 &       & \tt{if(rs1 != rs2) PC += imm} & \\
\tt{blt}  & Branch <                & B  & \tt{1100011} & 0x4 &       & \tt{if(rs1 < \enspace rs2) PC += imm} & \\
\tt{bge}  & Branch $\leq$           & B  & \tt{1100011} & 0x5 &       & \tt{if(rs1 >= rs2) PC += imm} & \\
\tt{bltu} & Branch < (U)            & B  & \tt{1100011} & 0x6 &       & \tt{if(rs1 < \enspace rs2) PC += imm} & zero-extends \\
\tt{bgeu} & Branch $\geq$ (U)       & B  & \tt{1100011} & 0x7 &       & \tt{if(rs1 >= rs2) PC += imm} & zero-extends \\ \hline
\tt{jal}  & Jump And Link           & UJ & \tt{1101111} &     &       & \tt{rd = PC+4; PC += imm}     & \\
\tt{jalr} & Jump And Link Reg       & I  & \tt{1100111} & 0x0 &       & \tt{rd = PC+4; PC = rs1}      & \\ \hline
\tt{lui}  & Load Upper Imm          & U  & \tt{0110111} &     &       & \tt{rd = imm << 12}           & \\
\tt{auipc}& Add Upper Imm to PC     & U  & \tt{0010111} &     &       & \tt{rd = PC + (imm << 12)}    & \\ \hline
\tt{ecall}& Environment Call        & I  & \tt{1110011} & 0x0 & 0x00  & Transfer control to OS          & imm: 0x000 \\ \hline
\tt{ebreak} & Environment Break     & I  & \tt{1110011} & 0x0 & 0x00  & Transfer control to debugger    & imm: 0x001 \\ \hline

\end{tabular}